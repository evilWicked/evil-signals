<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>evil signals: evil::thread_pool Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">evil signals
   </div>
   <div id="projectbrief">Lightweight Cross Platform Signals and Slots Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceevil.html">evil</a></li><li class="navelem"><a class="el" href="namespaceevil_1_1thread__pool.html">thread_pool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">evil::thread_pool Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad672834ea354a2becb4a5073143d75be"><td class="memTemplParams" colspan="2">template&lt;typename F , typename... Args&gt; </td></tr>
<tr class="memitem:ad672834ea354a2becb4a5073143d75be"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceevil_1_1thread__pool.html#ad672834ea354a2becb4a5073143d75be">calc</a> (F &amp;&amp;func, Args &amp;&amp;...args)</td></tr>
<tr class="separator:ad672834ea354a2becb4a5073143d75be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb47443969e0beae1968c158cf712a1c"><td class="memTemplParams" colspan="2">template&lt;typename C , typename F , typename... Args&gt; </td></tr>
<tr class="memitem:aeb47443969e0beae1968c158cf712a1c"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceevil_1_1thread__pool.html#aeb47443969e0beae1968c158cf712a1c">calc</a> (C &amp;&amp;cinst, F &amp;&amp;func, Args &amp;&amp;...args)</td></tr>
<tr class="separator:aeb47443969e0beae1968c158cf712a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae06a5836c7baa83a2f5abf715680b9"><td class="memTemplParams" colspan="2">template&lt;typename F , typename... Args&gt; </td></tr>
<tr class="memitem:abae06a5836c7baa83a2f5abf715680b9"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceevil_1_1thread__pool.html#abae06a5836c7baa83a2f5abf715680b9">run</a> (F &amp;&amp;func, Args &amp;&amp;...args)</td></tr>
<tr class="separator:abae06a5836c7baa83a2f5abf715680b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d00317f201cefb35417a90c059cedcf"><td class="memTemplParams" colspan="2">template&lt;typename C , typename F , typename... Args&gt; </td></tr>
<tr class="memitem:a8d00317f201cefb35417a90c059cedcf"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceevil_1_1thread__pool.html#a8d00317f201cefb35417a90c059cedcf">run</a> (C &amp;&amp;cinst, F &amp;&amp;func, Args &amp;&amp;...args)</td></tr>
<tr class="separator:a8d00317f201cefb35417a90c059cedcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9efab8d837337de9b45b1e418864ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classevil_1_1_thread_pool.html">ThreadPool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceevil_1_1thread__pool.html#a4b9efab8d837337de9b45b1e418864ad">getThreadPool</a> (void)</td></tr>
<tr class="separator:a4b9efab8d837337de9b45b1e418864ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad672834ea354a2becb4a5073143d75be"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto evil::thread_pool::calc </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is intended for situations where a thread will return a value for later use. It returns a TaskFuture&lt;ResultType&gt; that can be used to access the result of the the operation via get();</p>
<p>Care needs to be taken when using this because the future will wait until the thread has completed. This means that if a number of threads need to be created in a loop then the futures need to be defined outside the loop or they will wait until the thread returns on each iteration before destroying the return value.</p>
<p>In other words do this. </p><pre class="fragment">    const int numThreads = 10;
    std::vector&lt;evil::thread_pool::TaskFuture&lt;void&gt;&gt; v;
    for (int i = 0; i &lt; numThreads; ++i) {
        v.push_back(
            evil::thread_pool::calc([]() {
            std::this_thread::sleep_for(std::chrono::milliseconds(1000));
        }));
    }
</pre><p>And don't do this </p><pre class="fragment">const int numThreads = 10;
for (int i = 0; i &lt; numThreads; ++i) {

    evil::thread_pool::calc([]() {
        std::this_thread::sleep_for(std::chrono::milliseconds(1000));
     });
</pre><p>because the loop will wait here each iteration before destroying the return. even if you are not using it }</p>
<p>If submitting a reference for an argument, it is important to remember to wrap it with std::ref or std::cref. </p>

<p>Definition at line <a class="el" href="thread-pool_8h_source.html#l00263">263</a> of file <a class="el" href="thread-pool_8h_source.html">thread-pool.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceevil_1_1thread__pool_ad672834ea354a2becb4a5073143d75be_cgraph.png" border="0" usemap="#namespaceevil_1_1thread__pool_ad672834ea354a2becb4a5073143d75be_cgraph" alt=""/></div>
<map name="namespaceevil_1_1thread__pool_ad672834ea354a2becb4a5073143d75be_cgraph" id="namespaceevil_1_1thread__pool_ad672834ea354a2becb4a5073143d75be_cgraph">
<area shape="rect" id="node2" href="namespaceevil_1_1thread__pool.html#a4b9efab8d837337de9b45b1e418864ad" title="evil::thread_pool::\lgetThreadPool" alt="" coords="211,5,334,47"/>
<area shape="rect" id="node3" href="classevil_1_1_thread_pool.html#a520e6d58a1d2c2d288b5ea689045d6a4" title="evil::ThreadPool::calc" alt="" coords="200,71,345,98"/>
<area shape="rect" id="node4" href="classevil_1_1_thread_queue.html#a0ba8f0f265393b79547dfe4c4ef0680f" title="evil::ThreadQueue::push" alt="" coords="393,71,555,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeb47443969e0beae1968c158cf712a1c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename C , typename F , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto evil::thread_pool::calc </td>
          <td>(</td>
          <td class="paramtype">C &amp;&amp;&#160;</td>
          <td class="paramname"><em>cinst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the second signature is for use with class members where an instance of the class needs to be included as the first parameter </p>

<p>Definition at line <a class="el" href="thread-pool_8h_source.html#l00270">270</a> of file <a class="el" href="thread-pool_8h_source.html">thread-pool.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceevil_1_1thread__pool_aeb47443969e0beae1968c158cf712a1c_cgraph.png" border="0" usemap="#namespaceevil_1_1thread__pool_aeb47443969e0beae1968c158cf712a1c_cgraph" alt=""/></div>
<map name="namespaceevil_1_1thread__pool_aeb47443969e0beae1968c158cf712a1c_cgraph" id="namespaceevil_1_1thread__pool_aeb47443969e0beae1968c158cf712a1c_cgraph">
<area shape="rect" id="node2" href="namespaceevil_1_1thread__pool.html#a4b9efab8d837337de9b45b1e418864ad" title="evil::thread_pool::\lgetThreadPool" alt="" coords="211,5,334,47"/>
<area shape="rect" id="node3" href="classevil_1_1_thread_pool.html#a520e6d58a1d2c2d288b5ea689045d6a4" title="evil::ThreadPool::calc" alt="" coords="200,71,345,98"/>
<area shape="rect" id="node4" href="classevil_1_1_thread_queue.html#a0ba8f0f265393b79547dfe4c4ef0680f" title="evil::ThreadQueue::push" alt="" coords="393,71,555,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4b9efab8d837337de9b45b1e418864ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classevil_1_1_thread_pool.html">ThreadPool</a>&amp; evil::thread_pool::getThreadPool </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the default thread pool for the application. This pool is created with std::thread::hardware_concurrency() - 1 threads. </p>

<p>Definition at line <a class="el" href="thread-pool_8h_source.html#l00299">299</a> of file <a class="el" href="thread-pool_8h_source.html">thread-pool.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceevil_1_1thread__pool_a4b9efab8d837337de9b45b1e418864ad_icgraph.png" border="0" usemap="#namespaceevil_1_1thread__pool_a4b9efab8d837337de9b45b1e418864ad_icgraph" alt=""/></div>
<map name="namespaceevil_1_1thread__pool_a4b9efab8d837337de9b45b1e418864ad_icgraph" id="namespaceevil_1_1thread__pool_a4b9efab8d837337de9b45b1e418864ad_icgraph">
<area shape="rect" id="node2" href="namespaceevil_1_1thread__pool.html#ad672834ea354a2becb4a5073143d75be" title="evil::thread_pool::calc" alt="" coords="176,5,323,32"/>
<area shape="rect" id="node3" href="namespaceevil_1_1thread__pool.html#abae06a5836c7baa83a2f5abf715680b9" title="evil::thread_pool::run" alt="" coords="179,56,320,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abae06a5836c7baa83a2f5abf715680b9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F , typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void evil::thread_pool::run </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To handle the scenario in which you simply want to fire off the thread and forget about it you can use the run function. This submits the job to the queue and then moves on. There is no return to block the main thread.</p>
<p>If submitting a reference for an argument, it is important to remember to wrap it with std::ref or std::cref. </p>

<p>Definition at line <a class="el" href="thread-pool_8h_source.html#l00283">283</a> of file <a class="el" href="thread-pool_8h_source.html">thread-pool.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceevil_1_1thread__pool_abae06a5836c7baa83a2f5abf715680b9_cgraph.png" border="0" usemap="#namespaceevil_1_1thread__pool_abae06a5836c7baa83a2f5abf715680b9_cgraph" alt=""/></div>
<map name="namespaceevil_1_1thread__pool_abae06a5836c7baa83a2f5abf715680b9_cgraph" id="namespaceevil_1_1thread__pool_abae06a5836c7baa83a2f5abf715680b9_cgraph">
<area shape="rect" id="node2" href="namespaceevil_1_1thread__pool.html#a4b9efab8d837337de9b45b1e418864ad" title="evil::thread_pool::\lgetThreadPool" alt="" coords="203,5,325,47"/>
<area shape="rect" id="node3" href="classevil_1_1_thread_pool.html#afd4107790de671ed3d57273d3644b36f" title="evil::ThreadPool::run" alt="" coords="195,71,333,98"/>
<area shape="rect" id="node4" href="classevil_1_1_thread_queue.html#a0ba8f0f265393b79547dfe4c4ef0680f" title="evil::ThreadQueue::push" alt="" coords="381,71,543,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d00317f201cefb35417a90c059cedcf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename C , typename F , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto evil::thread_pool::run </td>
          <td>(</td>
          <td class="paramtype">C &amp;&amp;&#160;</td>
          <td class="paramname"><em>cinst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>like <a class="el" href="namespaceevil_1_1thread__pool.html#ad672834ea354a2becb4a5073143d75be">calc()</a> the second signature is for use with class members where an instance of the class needs to be included as the first parameter</p>
<p>If submitting a reference for an argument, it is important to remember to wrap it with std::ref or std::cref. </p>

<p>Definition at line <a class="el" href="thread-pool_8h_source.html#l00293">293</a> of file <a class="el" href="thread-pool_8h_source.html">thread-pool.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceevil_1_1thread__pool_a8d00317f201cefb35417a90c059cedcf_cgraph.png" border="0" usemap="#namespaceevil_1_1thread__pool_a8d00317f201cefb35417a90c059cedcf_cgraph" alt=""/></div>
<map name="namespaceevil_1_1thread__pool_a8d00317f201cefb35417a90c059cedcf_cgraph" id="namespaceevil_1_1thread__pool_a8d00317f201cefb35417a90c059cedcf_cgraph">
<area shape="rect" id="node2" href="namespaceevil_1_1thread__pool.html#a4b9efab8d837337de9b45b1e418864ad" title="evil::thread_pool::\lgetThreadPool" alt="" coords="203,5,325,47"/>
<area shape="rect" id="node3" href="classevil_1_1_thread_pool.html#afd4107790de671ed3d57273d3644b36f" title="evil::ThreadPool::run" alt="" coords="195,71,333,98"/>
<area shape="rect" id="node4" href="classevil_1_1_thread_queue.html#a0ba8f0f265393b79547dfe4c4ef0680f" title="evil::ThreadQueue::push" alt="" coords="381,71,543,98"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
